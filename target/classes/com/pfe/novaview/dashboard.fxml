<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<BorderPane xmlns="http://javafx.com/javafx/17"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.pfe.nova.Controller.DashboardController"
            prefWidth="800"
            prefHeight="600">
    
    <top>
        <HBox alignment="CENTER_RIGHT" spacing="10" style="-fx-padding: 10; -fx-background-color: #3498db;">
            <Label fx:id="welcomeLabel" style="-fx-text-fill: white; -fx-font-size: 16px;"/>
            
            <!-- Add navigation buttons -->
            <Region HBox.hgrow="ALWAYS"/>
            
            <!-- Posts button for all users -->
            <Button text="Community Posts" onAction="#navigateToPostsList"
                    style="-fx-background-color: #2980b9; -fx-text-fill: white;"/>
            
            <!-- Admin posts management button (will be visible only for admins) -->
            <Button fx:id="adminPostsBtn" text="Admin Posts Management" onAction="#navigateToAdminPostsManagement"
                    style="-fx-background-color: #8e44ad; -fx-text-fill: white;"/>
            
            <!-- Removed the "Back to User Mode" button -->
            
            <Button text="Logout" fx:id="logoutButton" onAction="#handleLogout"
                    style="-fx-background-color: #e74c3c; -fx-text-fill: white;"/>
        </HBox>
    </top>
    
    <center>
        <TabPane fx:id="contentTabPane">
            <!-- Rest of the content remains the same -->
            <!-- Profile Tab -->
            <Tab text="Profile" closable="false">
                <VBox fx:id="profileContent" spacing="10" style="-fx-padding: 20;">
                    <Label fx:id="nameLabel" style="-fx-font-size: 14px;"/>
                    <Label fx:id="emailLabel" style="-fx-font-size: 14px;"/>
                    <Label fx:id="phoneLabel" style="-fx-font-size: 14px;"/>
                    <Label fx:id="addressLabel" style="-fx-font-size: 14px;"/>
                    <!-- Role specific info will be added dynamically -->
                    <VBox fx:id="roleSpecificContent" spacing="10"/>
                    <Label fx:id="sessionTestLabel" style="-fx-font-size: 14px; -fx-text-fill: green;"/>
                    <Button text="Create Rapport" fx:id="createRapportButton" onAction="#handleCreateRapport"
                            style="-fx-background-color: #2ecc71; -fx-text-fill: white;"/>
                    <Button text="View Rapports" fx:id="viewRapportsButton" onAction="#handleViewRapports"
                            style="-fx-background-color: #3498db; -fx-text-fill: white;"/>
                </VBox>
            </Tab>
            
            <!-- Rest of the tabs remain unchanged -->
        </TabPane>
    </center>
</BorderPane>