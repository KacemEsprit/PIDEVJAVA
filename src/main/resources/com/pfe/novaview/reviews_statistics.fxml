<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.chart.*?>
<?import javafx.geometry.Insets?>

<VBox xmlns="http://javafx.com/javafx/17"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.pfe.nova.Controller.ReviewsStatisticsController"
      spacing="20"
      alignment="CENTER"
      style="-fx-background-color: white;">

    <ComboBox fx:id="chartTypeComboBox" promptText="Sélectionner le type de graphique"
              style="-fx-background-radius: 10; -fx-border-radius: 10; -fx-padding: 5; -fx-background-color: #f0f0f0;"/>


    <HBox spacing="50" alignment="CENTER">

        <!-- Partie graphique + légende dans une carte propre -->
        <VBox alignment="CENTER" spacing="20">
            <VBox style="-fx-background-color: white; 
                         -fx-background-radius: 15; 
                         -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 10, 0, 0, 0);"
                  alignment="CENTER" spacing="20">
                <padding>
                    <Insets top="20" right="20" bottom="20" left="20"/>
                </padding>

                <!-- Graphique ici -->
                <VBox fx:id="chartContainer" alignment="CENTER" spacing="20"/>

                <!-- Légende ici -->
                <HBox fx:id="reviewsContainer" spacing="20" alignment="CENTER"/>
            </VBox>
        </VBox>

        <!-- Partie cartes statistiques -->
        <VBox spacing="20">
            <VBox style="-fx-background-color: #455a64; -fx-background-radius: 10; 
                         -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 10, 0, 0, 0);"
                  alignment="CENTER">
                <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>
                <Label text="Total Avis 🔥" style="-fx-text-fill: white; -fx-font-size: 16px;"/>
                <Label fx:id="totalReviewsLabel" text="0" style="-fx-text-fill: white; -fx-font-size: 36px; -fx-font-weight: bold;"/>
                <Label text="Nombre total d'avis" style="-fx-text-fill: white; -fx-font-size: 14px;"/>
            </VBox>

            <VBox style="-fx-background-color: rgb(121, 211, 234); -fx-background-radius: 10; 
                         -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 10, 0, 0, 0);"
                  alignment="CENTER">
                <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>
                <Label text="Avis Positifs ✅" style="-fx-text-fill: white; -fx-font-size: 16px;"/>
                <Label fx:id="positiveReviewsLabel" text="0" style="-fx-text-fill: white; -fx-font-size: 36px; -fx-font-weight: bold;"/>
                <Label text="Plus de 2 étoiles" style="-fx-text-fill: white; -fx-font-size: 14px;"/>
            </VBox>

            <VBox style="-fx-background-color: rgb(188, 197, 65); -fx-background-radius: 10; 
                         -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 10, 0, 0, 0);"
                  alignment="CENTER">
                <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>
                <Label text="Avis Négatifs ❌" style="-fx-text-fill: white; -fx-font-size: 16px;"/>
                <Label fx:id="negativeReviewsLabel" text="0" style="-fx-text-fill: white; -fx-font-size: 36px; -fx-font-weight: bold;"/>
                <Label text="Moins de 2 étoiles" style="-fx-text-fill: white; -fx-font-size: 14px;"/>
            </VBox>
        </VBox>

    </HBox>

</VBox>
